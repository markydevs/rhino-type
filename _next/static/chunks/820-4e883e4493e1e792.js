(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[820],{8190:(t,e)=>{let o={id:"chartjs-plugin-trendline",afterDatasetsDraw:t=>{let e=t.ctx,{xScale:o,yScale:n}=i(t);t.data.datasets.forEach((i,a)=>{let s=i.alwaysShowTrendline||t.isDatasetVisible(a);i.trendlineLinear&&s&&i.data.length>1&&r(t.getDatasetMeta(a),e,i,o,n)}),e.setLineDash([])},beforeInit:t=>{t.data.datasets.forEach(e=>{if(e.trendlineLinear&&e.trendlineLinear.label){let o=e.trendlineLinear.label,i=t.legend.options.labels.generateLabels;t.legend.options.labels.generateLabels=function(t){let r=i(t),n=e.trendlineLinear.legend;return n&&!1!==n.display&&r.push({text:n.text||o+" (Trendline)",strokeStyle:n.color||e.borderColor||"rgba(169,169,169, .6)",fillStyle:n.fillStyle||"transparent",lineCap:n.lineCap||"butt",lineDash:n.lineDash||[],lineWidth:n.width||1}),r}}})}},i=t=>{let e,o;for(let i of Object.values(t.scales))if(i.isHorizontal()?e=i:o=i,e&&o)break;return{xScale:e,yScale:o}},r=(t,e,o,i,r)=>{let c,u;let f=o.borderColor||"rgba(169,169,169, .6)",{colorMin:x=f,colorMax:p=f,width:b=o.borderWidth||3,lineStyle:y="solid",fillColor:g=!1}=o.trendlineLinear||{},{color:m=f,text:v="Trendline",display:w=!0,displayValue:M=!0,offset:S=10,percentage:k=!1}=o.trendlineLinear.label||{},{family:C="'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:P=12}=o.trendlineLinear.label?.font||{},D=t.controller.chart.options,T="object"==typeof D.parsing?D.parsing:void 0,A=o.trendlineLinear?.xAxisKey||T?.xAxisKey||"x",j=o.trendlineLinear?.yAxisKey||T?.yAxisKey||"y",O=new h,I=o.data.findIndex(t=>null!=t),W=o.data.length-1,E=t.data[I]?.[A],Y=t.data[W]?.[A],R="object"==typeof o.data[I];o.data.forEach((t,e)=>{if(null!=t){if(["time","timeseries"].includes(i.options.type)){let o=null!=t[A]?t[A]:t.t;void 0!==o?O.add(new Date(o).getTime(),t[j]):O.add(e,t)}else R?isNaN(t.x)||isNaN(t.y)?isNaN(t.x)?isNaN(t.y)||O.add(e,t.y):O.add(e,t.x):O.add(t.x,t.y):O.add(e,t)}});let X=i.getPixelForValue(O.minx),L=r.getPixelForValue(O.f(O.minx));if(o.trendlineLinear.projection&&0>O.scale()){let t=O.fo();t<O.minx&&(t=O.maxx),c=i.getPixelForValue(t),u=r.getPixelForValue(O.f(t))}else c=i.getPixelForValue(O.maxx),u=r.getPixelForValue(O.f(O.maxx));(isFinite(E)||isFinite(Y))&&(X=E,c=Y);let _=t.controller.chart.chartArea.bottom;a({x1:X,y1:L,x2:c,y2:u,drawBottom:_,chartWidth:t.controller.chart.width}),e.lineWidth=b,s(e,y),l({ctx:e,x1:X,y1:L,x2:c,y2:u,colorMin:x,colorMax:p}),g&&d(e,X,L,c,u,_,g);let N=Math.atan2(u-L,c-X),H=(L-u)/(c-X);o.trendlineLinear.label&&!1!==w&&n(e,M?`${v} (Slope: ${k?(100*H).toFixed(2)+"%":H.toFixed(2)})`:v,X,L,c,u,N,m,C,P,S)},n=(t,e,o,i,r,n,a,s,l,d,h)=>{t.font=`${d}px ${l}`,t.fillStyle=s;let c=t.measureText(e).width;t.save(),t.translate((o+r)/2,(i+n)/2),t.rotate(a),t.fillText(e,-c/2,h),t.restore()},a=({x1:t,y1:e,x2:o,y2:i,drawBottom:r,chartWidth:n})=>{if(e>r)e=r;else if(i>r){let t=i-r,a=i-e;i=r,o=n-(o-(n-t/a*n))}},s=(t,e)=>{switch(e){case"dotted":t.setLineDash([2,2]);break;case"dashed":t.setLineDash([8,3]);break;case"dashdot":t.setLineDash([8,3,2,3]);break;default:t.setLineDash([])}},l=({ctx:t,x1:e,y1:o,x2:i,y2:r,colorMin:n,colorMax:a})=>{t.beginPath(),t.moveTo(e,o),t.lineTo(i,r);let s=t.createLinearGradient(e,o,i,r);s.addColorStop(0,n),s.addColorStop(1,a),t.strokeStyle=s,t.stroke(),t.closePath()},d=(t,e,o,i,r,n,a)=>{t.beginPath(),t.moveTo(e,o),t.lineTo(i,r),t.lineTo(i,n),t.lineTo(e,n),t.lineTo(e,o),t.closePath(),t.fillStyle=a,t.fill()};class h{constructor(){this.count=0,this.sumx=0,this.sumy=0,this.sumx2=0,this.sumxy=0,this.minx=Number.MAX_VALUE,this.maxx=Number.MIN_VALUE}add(t,e){this.sumx+=t,this.sumy+=e,this.sumx2+=t*t,this.sumxy+=t*e,t<this.minx&&(this.minx=t),t>this.maxx&&(this.maxx=t),this.count++}slope(){let t=this.count*this.sumx2-this.sumx*this.sumx;return(this.count*this.sumxy-this.sumx*this.sumy)/t}intercept(){return(this.sumy-this.slope()*this.sumx)/this.count}f(t){return this.slope()*t+this.intercept()}fo(){return-this.intercept()/this.slope()}scale(){return this.slope()}}"undefined"!=typeof window&&window.Chart&&(window.Chart.hasOwnProperty("register")?window.Chart.register(o):window.Chart.plugins.register(o));try{t.exports=o}catch(t){}},1758:(t,e,o)=>{"use strict";o.d(e,{a:()=>n});var i=o(7526),r=o(1078),n=new r.n({locale:[i.a,r.o]})},9861:(t,e,o)=>{"use strict";o.d(e,{A:()=>tz});var i=o(5781),r=o(5056);let n={modes:{point:(t,e)=>s(t,e,{intersect:!0}),nearest:(t,e,o)=>(function(t,e,o){let i=Number.POSITIVE_INFINITY;return s(t,e,o).reduce((t,n)=>{var a;let s=n.getCenterPoint(),l="x"===(a=o.axis)?{x:e.x,y:s.y}:"y"===a?{x:s.x,y:e.y}:s,d=(0,r.aE)(e,l);return d<i?(t=[n],i=d):d===i&&t.push(n),t},[]).sort((t,e)=>t._index-e._index).slice(0,1)})(t,e,o),x:(t,e,o)=>s(t,e,{intersect:o.intersect,axis:"x"}),y:(t,e,o)=>s(t,e,{intersect:o.intersect,axis:"y"})}};function a(t,e,o){return(n.modes[o.mode]||n.modes.nearest)(t,e,o)}function s(t,e,o){return t.filter(t=>{var i;return o.intersect?t.inRange(e.x,e.y):"x"!==(i=o.axis)&&"y"!==i?t.inRange(e.x,e.y,"x",!0)||t.inRange(e.x,e.y,"y",!0):t.inRange(e.x,e.y,i,!0)})}function l(t,e,o){let i=Math.cos(o),r=Math.sin(o),n=e.x,a=e.y;return{x:n+i*(t.x-n)-r*(t.y-a),y:a+r*(t.x-n)+i*(t.y-a)}}let d=(t,e)=>e>t||t.length>e.length&&t.slice(0,e.length)===e,h=(t,e,o)=>Math.min(o,Math.max(e,t)),c=(t,e)=>t.value>=t.start-e&&t.value<=t.end+e;function u(t,{x:e,y:o,x2:i,y2:r},n,{borderWidth:a,hitTolerance:s}){let l=(a+s)/2,d=t.x>=e-l-.001&&t.x<=i+l+.001,h=t.y>=o-l-.001&&t.y<=r+l+.001;return"x"===n?d:"y"===n?h:d&&h}function f(t,{rect:e,center:o},i,{rotation:n,borderWidth:a,hitTolerance:s}){return u(l(t,o,(0,r.t)(-n)),e,i,{borderWidth:a,hitTolerance:s})}function x(t,e){let{centerX:o,centerY:i}=t.getProps(["centerX","centerY"],e);return{x:o,y:i}}let p=t=>"string"==typeof t&&t.endsWith("%"),b=t=>parseFloat(t)/100,y=t=>h(b(t),0,1),g=(t,e)=>({x:t,y:e,x2:t,y2:e,width:0,height:0}),m={box:t=>g(t.centerX,t.centerY),doughnutLabel:t=>g(t.centerX,t.centerY),ellipse:t=>({centerX:t.centerX,centerY:t.centerX,radius:0,width:0,height:0}),label:t=>g(t.centerX,t.centerY),line:t=>g(t.x,t.y),point:t=>({centerX:t.centerX,centerY:t.centerY,radius:0,width:0,height:0}),polygon:t=>g(t.centerX,t.centerY)};function v(t,e){return"start"===e?0:"end"===e?t:p(e)?y(e)*t:t/2}function w(t,e,o=!0){return"number"==typeof e?e:p(e)?(o?y(e):b(e))*t:t}function M(t,e,{borderWidth:o,position:i,xAdjust:n,yAdjust:a},s){let l=(0,r.i)(s),d=e.width+(l?s.width:0)+o,h=e.height+(l?s.height:0)+o,c=S(i),u=D(t.x,d,n,c.x),f=D(t.y,h,a,c.y);return{x:u,y:f,x2:u+d,y2:f+h,width:d,height:h,centerX:u+d/2,centerY:f+h/2}}function S(t,e="center"){return(0,r.i)(t)?{x:(0,r.v)(t.x,e),y:(0,r.v)(t.y,e)}:{x:t=(0,r.v)(t,e),y:t}}let k=(t,e)=>t&&t.autoFit&&e<1;function C(t,e){let o=t.font,i=(0,r.b)(o)?o:[o];return k(t,e)?i.map(function(t){let o=(0,r.a0)(t);return o.size=Math.floor(t.size*e),o.lineHeight=t.lineHeight,(0,r.a0)(o)}):i.map(t=>(0,r.a0)(t))}function P(t){return t&&((0,r.h)(t.xValue)||(0,r.h)(t.yValue))}function D(t,e,o=0,i){return t-v(e,i)+o}function T(t,e,o){let i=o.init;return i?!0===i?j(e,o):function(t,e,o){let i=(0,r.Q)(o.init,[{chart:t,properties:e,options:o}]);return!0===i?j(e,o):(0,r.i)(i)?i:void 0}(t,e,o):void 0}function A(t,e,o){let i=!1;return e.forEach(e=>{(0,r.a7)(t[e])?(i=!0,o[e]=t[e]):(0,r.h)(o[e])&&delete o[e]}),i}function j(t,e){return m[e.type||"line"](t)}let O=new Map,I=t=>isNaN(t)||t<=0,W=t=>t.reduce(function(t,e){return t+e.string},"");function E(t){if(t&&"object"==typeof t){let e=t.toString();return"[object HTMLImageElement]"===e||"[object HTMLCanvasElement]"===e}}function Y(t,{x:e,y:o},i){i&&(t.translate(e,o),t.rotate((0,r.t)(i)),t.translate(-e,-o))}function R(t,e){if(e&&e.borderWidth)return t.lineCap=e.borderCapStyle||"butt",t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle||"miter",t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,!0}function X(t,e){t.shadowColor=e.backgroundShadowColor,t.shadowBlur=e.shadowBlur,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY}function L(t,e){let o=e.content;if(E(o))return{width:w(o.width,e.width),height:w(o.height,e.height)};let i=C(e),n=e.textStrokeWidth,a=(0,r.b)(o)?o:[o],s=a.join()+W(i)+n+(t._measureText?"-spriting":"");return O.has(s)||O.set(s,function(t,e,o,i){t.save();let r=e.length,n=0,a=i;for(let s=0;s<r;s++){let r=o[Math.min(s,o.length-1)];t.font=r.string;let l=e[s];n=Math.max(n,t.measureText(l).width+i),a+=r.lineHeight}return t.restore(),{width:n,height:a}}(t,a,i,n)),O.get(s)}function _(t,e,o){let{x:i,y:n,width:a,height:s}=e;t.save(),X(t,o);let l=R(t,o);t.fillStyle=o.backgroundColor,t.beginPath(),(0,r.au)(t,{x:i,y:n,w:a,h:s,radius:function(t,e,o){for(let e of Object.keys(t))t[e]=h(t[e],0,o);return t}((0,r.aw)(o.borderRadius),0,Math.min(a,s)/2)}),t.closePath(),t.fill(),l&&(t.shadowColor=o.borderShadowColor,t.stroke()),t.restore()}function N(t,e,o,i){let n=o.content;if(E(n)){t.save(),t.globalAlpha=function(t,e){let o=(0,r.x)(t)?t:e;return(0,r.x)(o)?h(o,0,1):1}(o.opacity,n.style.opacity),t.drawImage(n,e.x,e.y,e.width,e.height),t.restore();return}let a=(0,r.b)(n)?n:[n],s=C(o,i),l=o.color,d=(0,r.b)(l)?l:[l],c=function(t,e){let{x:o,width:i}=t,r=e.textAlign;return"center"===r?o+i/2:"end"===r||"right"===r?o+i:o}(e,o),u=e.y+o.textStrokeWidth/2;t.save(),t.textBaseline="middle",t.textAlign=o.textAlign,function(t,e){if(e.textStrokeWidth>0)return t.lineJoin="round",t.miterLimit=2,t.lineWidth=e.textStrokeWidth,t.strokeStyle=e.textStrokeColor,!0}(t,o)&&function(t,{x:e,y:o},i,r){t.beginPath();let n=0;i.forEach(function(i,a){let s=r[Math.min(a,r.length-1)],l=s.lineHeight;t.font=s.string,t.strokeText(i,e,o+l/2+n),n+=l}),t.stroke()}(t,{x:c,y:u},a,s),function(t,{x:e,y:o},i,{fonts:r,colors:n}){let a=0;i.forEach(function(i,s){let l=n[Math.min(s,n.length-1)],d=r[Math.min(s,r.length-1)],h=d.lineHeight;t.beginPath(),t.font=d.string,t.fillStyle=l,t.fillText(i,e,o+h/2+a),a+=h,t.fill()})}(t,{x:c,y:u},a,{fonts:s,colors:d}),t.restore()}let H=["left","bottom","top","right"],V={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function z(t,e,o){return e="number"==typeof e?e:t.parse(e),(0,r.g)(e)?t.getPixelForValue(e):o}function F(t,e,o){let i=e[o];if(i||"scaleID"===o)return i;let r=o.charAt(0),n=Object.values(t).filter(t=>t.axis&&t.axis===r);return n.length?n[0].id:r}function $(t,e){if(t){let o=t.options.reverse;return{start:z(t,e.min,o?e.end:e.start),end:z(t,e.max,o?e.start:e.end)}}}function B(t,e){let{chartArea:o,scales:i}=t,r=i[F(i,e,"xScaleID")],n=i[F(i,e,"yScaleID")],a=o.width/2,s=o.height/2;return r&&(a=z(r,e.xValue,r.left+r.width/2)),n&&(s=z(n,e.yValue,n.top+n.height/2)),{x:a,y:s}}function J(t,e){let o=t.scales,i=o[F(o,e,"xScaleID")],r=o[F(o,e,"yScaleID")];if(!i&&!r)return{};let{left:n,right:a}=i||t.chartArea,{top:s,bottom:l}=r||t.chartArea,d=K(i,{min:e.xMin,max:e.xMax,start:n,end:a});n=d.start,a=d.end;let h=K(r,{min:e.yMin,max:e.yMax,start:l,end:s});return{x:n,y:s=h.start,x2:a,y2:l=h.end,width:a-n,height:l-s,centerX:n+(a-n)/2,centerY:s+(l-s)/2}}function U(t,e){if(!P(e)){let o=J(t,e),i=e.radius;(!i||isNaN(i))&&(i=Math.min(o.width,o.height)/2,e.radius=i);let r=2*i,n=o.centerX+e.xAdjust,a=o.centerY+e.yAdjust;return{x:n-i,y:a-i,x2:n+i,y2:a+i,centerX:n,centerY:a,width:r,height:r,radius:i}}return function(t,e){let o=B(t,e),i=2*e.radius;return{x:o.x-e.radius+e.xAdjust,y:o.y-e.radius+e.yAdjust,x2:o.x+e.radius+e.xAdjust,y2:o.y+e.radius+e.yAdjust,centerX:o.x+e.xAdjust,centerY:o.y+e.yAdjust,radius:e.radius,width:i,height:i}}(t,e)}function q(t,e){let o=J(t,e);return o.initProperties=T(t,o,e),o.elements=[{type:"label",optionScope:"label",properties:function(t,e,o){let i=o.label;i.backgroundColor="transparent",i.callout.display=!1;let n=S(i.position),a=(0,r.E)(i.padding),s=L(t.ctx,i),l=function({properties:t,options:e},o,i,r){let{x:n,x2:a,width:s}=t;return Q({start:n,end:a,size:s,borderWidth:e.borderWidth},{position:i.x,padding:{start:r.left,end:r.right},adjust:e.label.xAdjust,size:o.width})}({properties:e,options:o},s,n,a),d=function({properties:t,options:e},o,i,r){let{y:n,y2:a,height:s}=t;return Q({start:n,end:a,size:s,borderWidth:e.borderWidth},{position:i.y,padding:{start:r.top,end:r.bottom},adjust:e.label.yAdjust,size:o.height})}({properties:e,options:o},s,n,a),h=s.width+a.width,c=s.height+a.height;return{x:l,y:d,x2:l+h,y2:d+c,width:h,height:c,centerX:l+h/2,centerY:d+c/2,rotation:i.rotation}}(t,o,e),initProperties:o.initProperties}],o}function K(t,e){let o=$(t,e)||e;return{start:Math.min(o.start,o.end),end:Math.max(o.start,o.end)}}function Q(t,e){let{start:o,end:i,borderWidth:r}=t,{position:n,padding:{start:a,end:s},adjust:l}=e,d=i-r-o-a-s-e.size;return o+r/2+l+v(d,n)}let G=["enter","leave"],Z=G.concat("click");function tt({state:t,event:e},o,i,r){let n;for(let a of i)0>r.indexOf(a)&&(n=te(a.options[o]||t.listeners[o],a,e)||n);return n}function te(t,e,o){return!0===(0,r.Q)(t,[e.$context,o])}let to=["afterDraw","beforeDraw"];function ti(t,e,o){if(t.hooked){let i=e.options[o]||t.hooks[o];return(0,r.Q)(i,[e.$context])}}function tr(t,e,o,i){var n;if((0,r.g)(e[o])&&(n=t.options,!((0,r.h)(n[o])||(0,r.h)(n[i])))){let i=t[o]!==e[o];return t[o]=e[o],i}}function tn(t,e,o,i){for(let n of o){let o=t[n];if((0,r.h)(o)){let t=e.parse(o);i.min=Math.min(i.min,t),i.max=Math.max(i.max,t)}}}class ta extends i.Hg{inRange(t,e,o,i){let{x:n,y:a}=l({x:t,y:e},this.getCenterPoint(i),(0,r.t)(-this.options.rotation));return u({x:n,y:a},this.getProps(["x","y","x2","y2"],i),o,this.options)}getCenterPoint(t){return x(this,t)}draw(t){t.save(),Y(t,this.getCenterPoint(),this.options.rotation),_(t,this,this.options),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return q(t,e)}}ta.id="boxAnnotation",ta.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},ta.defaultRoutes={borderColor:"color",backgroundColor:"color"},ta.descriptors={label:{_fallback:!0}};class ts extends i.Hg{inRange(t,e,o,i){return f({x:t,y:e},{rect:this.getProps(["x","y","x2","y2"],i),center:this.getCenterPoint(i)},o,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(t){return x(this,t)}draw(t){let e=this.options;e.display&&e.content&&(function(t,e){let{_centerX:o,_centerY:i,_radius:r,_startAngle:n,_endAngle:a,_counterclockwise:s,options:l}=e;t.save();let d=R(t,l);t.fillStyle=l.backgroundColor,t.beginPath(),t.arc(o,i,r,n,a,s),t.closePath(),t.fill(),d&&t.stroke(),t.restore()}(t,this),t.save(),Y(t,this.getCenterPoint(),this.rotation),N(t,this,e,this._fitRatio),t.restore())}resolveElementProperties(t,e){let o=t.getSortedVisibleDatasetMetas().reduce(function(o,r){let n=r.controller;return n instanceof i.ju&&function(t,e,o){if(!e.autoHide)return!0;for(let e=0;e<o.length;e++)if(!o[e].hidden&&t.getDataVisibility(e))return!0}(t,e,r.data)&&(!o||n.innerRadius<o.controller.innerRadius)&&n.options.circumference>=90?r:o},void 0);if(!o)return{};let{controllerMeta:n,point:a,radius:s}=function({chartArea:t},e,o){let{left:i,top:n,right:a,bottom:s}=t,{innerRadius:l,offsetX:d,offsetY:h}=o.controller,c=(i+a)/2+d,u=(n+s)/2+h,f={left:Math.max(c-l,i),right:Math.min(c+l,a),top:Math.max(u-l,n),bottom:Math.min(u+l,s)},x={x:(f.left+f.right)/2,y:(f.top+f.bottom)/2},p=e.spacing+e.borderWidth/2,b=l-p,y=x.y>u,g=function(t,e,o,i){let n=-2*e,a=Math.pow(n,2)-4*(Math.pow(e,2)+Math.pow(o-t,2)-Math.pow(i,2));if(a<=0)return{_startAngle:0,_endAngle:r.T};let s=(-n-Math.sqrt(a))/2,l=(-n+Math.sqrt(a))/2;return{_startAngle:(0,r.D)({x:e,y:o},{x:s,y:t}).angle,_endAngle:(0,r.D)({x:e,y:o},{x:l,y:t}).angle}}(y?n+p:s-p,c,u,b);return{controllerMeta:{_centerX:c,_centerY:u,_radius:b,_counterclockwise:y,...g},point:x,radius:Math.min(l,Math.min(f.right-f.left,f.bottom-f.top)/2)}}(t,e,o),l=L(t.ctx,e),d=function({width:t,height:e},o){return 2*o/Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}(l,s);k(e,d)&&(l={width:l.width*d,height:l.height*d});let{position:h,xAdjust:c,yAdjust:u}=e,f=M(a,l,{borderWidth:0,position:h,xAdjust:c,yAdjust:u});return{initProperties:T(t,f,e),...f,...n,rotation:e.rotation,_fitRatio:d}}}ts.id="doughnutLabelAnnotation",ts.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},ts.defaultRoutes={};class tl extends i.Hg{inRange(t,e,o,i){return f({x:t,y:e},{rect:this.getProps(["x","y","x2","y2"],i),center:this.getCenterPoint(i)},o,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(t){return x(this,t)}draw(t){let e=this.options,o=!(0,r.h)(this._visible)||this._visible;e.display&&e.content&&o&&(t.save(),Y(t,this.getCenterPoint(),this.rotation),function(t,e){let{pointX:o,pointY:i,options:n}=e,a=n.callout,s=a&&a.display&&function(t,e){let o=e.position;return H.includes(o)?o:function(t,e){let{x:o,y:i,x2:n,y2:a,width:s,height:d,pointX:h,pointY:c,centerX:u,centerY:f,rotation:x}=t,p={x:u,y:f},b=e.start,y=w(s,b),g=w(d,b),m=[o,o+y,o+y,n],v=[i+g,a,i,a],M=[];for(let t=0;t<4;t++){let e=l({x:m[t],y:v[t]},p,(0,r.t)(x));M.push({position:H[t],distance:(0,r.aE)(e,{x:h,y:c})})}return M.sort((t,e)=>t.distance-e.distance)[0].position}(t,e)}(e,a);if(!s||function(t,e,o){let{pointX:i,pointY:r}=t,n=e.margin,a=i,s=r;return"left"===o?a+=n:"right"===o?a-=n:"top"===o?s+=n:"bottom"===o&&(s-=n),t.inRange(a,s)}(e,a,s))return;if(t.save(),t.beginPath(),!R(t,a))return t.restore();let{separatorStart:d,separatorEnd:h}=function(t,e){let o,i;let{x:r,y:n,x2:a,y2:s}=t,l=function(t,e){let{width:o,height:i,options:r}=t,n=r.callout.margin+r.borderWidth/2;return"right"===e?o+n:"bottom"===e?i+n:-n}(t,e);return i="left"===e||"right"===e?{x:(o={x:r+l,y:n}).x,y:s}:{x:a,y:(o={x:r,y:n+l}).y},{separatorStart:o,separatorEnd:i}}(e,s),{sideStart:c,sideEnd:u}=function(t,e,o){let i,r;let{y:n,width:a,height:s,options:l}=t,d=l.callout.start,h=function(t,e){let o=e.side;return"left"===t||"top"===t?-o:o}(e,l.callout);return r="left"===e||"right"===e?{x:(i={x:o.x,y:n+w(s,d)}).x+h,y:i.y}:{x:(i={x:o.x+w(a,d),y:o.y}).x,y:i.y+h},{sideStart:i,sideEnd:r}}(e,s,d);(a.margin>0||0===n.borderWidth)&&(t.moveTo(d.x,d.y),t.lineTo(h.x,h.y)),t.moveTo(c.x,c.y),t.lineTo(u.x,u.y);let f=l({x:o,y:i},e.getCenterPoint(),(0,r.t)(-e.rotation));t.lineTo(f.x,f.y),t.stroke(),t.restore()}(t,this),_(t,this,e),N(t,function({x:t,y:e,width:o,height:i,options:n}){let a=n.borderWidth/2,s=(0,r.E)(n.padding);return{x:t+s.left+a,y:e+s.top+a,width:o-s.left-s.right-n.borderWidth,height:i-s.top-s.bottom-n.borderWidth}}(this),e),t.restore())}resolveElementProperties(t,e){let o;if(P(e))o=B(t,e);else{let{centerX:i,centerY:r}=J(t,e);o={x:i,y:r}}let i=(0,r.E)(e.padding),n=M(o,L(t.ctx,e),e,i);return{initProperties:T(t,n,e),pointX:o.x,pointY:o.y,...n,rotation:e.rotation}}}tl.id="labelAnnotation",tl.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},tl.defaultRoutes={borderColor:"color"};let td=(t,e,o)=>({x:t.x+o*(e.x-t.x),y:t.y+o*(e.y-t.y)}),th=(t,e,o)=>td(e,o,Math.abs((t-e.y)/(o.y-e.y))).x,tc=(t,e,o)=>td(e,o,Math.abs((t-e.x)/(o.x-e.x))).y,tu=t=>t*t,tf=(t,e,{x:o,y:i,x2:r,y2:n},a)=>"y"===a?{start:Math.min(i,n),end:Math.max(i,n),value:e}:{start:Math.min(o,r),end:Math.max(o,r),value:t},tx=(t,e,o,i)=>(1-i)*(1-i)*t+2*(1-i)*i*e+i*i*o,tp=(t,e,o,i)=>({x:tx(t.x,e.x,o.x,i),y:tx(t.y,e.y,o.y,i)}),tb=(t,e,o,i)=>2*(1-i)*(e-t)+2*i*(o-e),ty=(t,e,o,i)=>-Math.atan2(tb(t.x,e.x,o.x,i),tb(t.y,e.y,o.y,i))+.5*r.P;class tg extends i.Hg{inRange(t,e,o,i){let r=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==o&&"y"!==o){let o={mouseX:t,mouseY:e},{path:n,ctx:a}=this;if(n){R(a,this.options),a.lineWidth+=this.options.hitTolerance;let{chart:r}=this.$context,s=t*r.currentDevicePixelRatio,l=e*r.currentDevicePixelRatio,d=a.isPointInStroke(n,s,l)||tw(this,o,i);return a.restore(),d}return function(t,{mouseX:e,mouseY:o},i=.001,r){let n,a;let{x:s,y:l,x2:d,y2:h}=t.getProps(["x","y","x2","y2"],r),c=d-s,u=h-l,f=tu(c)+tu(u),x=0===f?-1:((e-s)*c+(o-l)*u)/f;return x<0?(n=s,a=l):x>1?(n=d,a=h):(n=s+x*c,a=l+x*u),tu(e-n)+tu(o-a)<=i}(this,o,tu(r),i)||tw(this,o,i)}return function(t,{mouseX:e,mouseY:o},i,{hitSize:r,useFinalPosition:n}){return c(tf(e,o,t.getProps(["x","y","x2","y2"],n),i),r)||tw(t,{mouseX:e,mouseY:o},n,i)}(this,{mouseX:t,mouseY:e},o,{hitSize:r,useFinalPosition:i})}getCenterPoint(t){return x(this,t)}draw(t){let{x:e,y:o,x2:i,y2:n,cp:a,options:s}=this;if(t.save(),!R(t,s))return t.restore();X(t,s);let l=Math.sqrt(Math.pow(i-e,2)+Math.pow(n-o,2));if(s.curve&&a)return function(t,e,o,i){let{x:n,y:a,x2:s,y2:l,options:d}=e,{startOpts:h,endOpts:c,startAdjust:u,endAdjust:f}=tk(e),x={x:n,y:a},p={x:s,y:l},b=ty(x,o,p,0),y=ty(x,o,p,1)-r.P,g=tp(x,o,p,u/i),m=tp(x,o,p,1-f/i),v=new Path2D;t.beginPath(),v.moveTo(g.x,g.y),v.quadraticCurveTo(o.x,o.y,m.x,m.y),t.shadowColor=d.borderShadowColor,t.stroke(v),e.path=v,e.ctx=t,tD(t,g,{angle:b,adjust:u},h),tD(t,m,{angle:y,adjust:f},c)}(t,this,a,l),t.restore();let{startOpts:d,endOpts:h,startAdjust:c,endAdjust:u}=tk(this),f=Math.atan2(n-o,i-e);t.translate(e,o),t.rotate(f),t.beginPath(),t.moveTo(0+c,0),t.lineTo(l-u,0),t.shadowColor=s.borderShadowColor,t.stroke(),tP(t,0,c,d),tP(t,l,-u,h),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){let o=function(t,e){let{scales:o,chartArea:i}=t,r=o[e.scaleID],n={x:i.left,y:i.top,x2:i.right,y2:i.bottom};return r?function(t,e,o){let i=z(t,o.value,NaN),r=z(t,o.endValue,i);t.isHorizontal()?(e.x=i,e.x2=r):(e.y=i,e.y2=r)}(r,n,e):function(t,e,o){for(let i of Object.keys(V)){let r=t[F(t,o,i)];if(r){let{min:t,max:n,start:a,end:s,startProp:l,endProp:d}=V[i],h=$(r,{min:o[t],max:o[n],start:r[a],end:r[s]});e[l]=h.start,e[d]=h.end}}}(o,n,e),n}(t,e),{x:i,y:n,x2:a,y2:s}=o,d=function({x:t,y:e,x2:o,y2:i},{top:r,right:n,bottom:a,left:s}){return!(t<s&&o<s||t>n&&o>n||e<r&&i<r||e>a&&i>a)}(o,t.chartArea),h=d?function(t,e,o){let{x:i,y:r}=tv(t,e,o),{x:n,y:a}=tv(e,t,o);return{x:i,y:r,x2:n,y2:a,width:Math.abs(n-i),height:Math.abs(a-r)}}({x:i,y:n},{x:a,y:s},t.chartArea):{x:i,y:n,x2:a,y2:s,width:Math.abs(a-i),height:Math.abs(s-n)};if(h.centerX=(a+i)/2,h.centerY=(s+n)/2,h.initProperties=T(t,h,e),e.curve){let t={x:h.x,y:h.y},o={x:h.x2,y:h.y2};h.cp=function(t,e,o){let{x:i,y:r,x2:n,y2:a,centerX:s,centerY:d}=t,h=Math.atan2(a-r,n-i),c=S(e.controlPoint,0);return l({x:s+w(o,c.x,!1),y:d+w(o,c.y,!1)},{x:s,y:d},h)}(h,e,(0,r.aE)(t,o))}let c=function(t,e,o){let i=o.borderWidth,n=(0,r.E)(o.padding),a=L(t.ctx,o);return function(t,e,o,i){let{width:n,height:a,padding:s}=o,{xAdjust:l,yAdjust:d}=e,h={x:t.x,y:t.y},c={x:t.x2,y:t.y2},u="auto"===e.rotation?function(t){let{x:e,y:o,x2:i,y2:n}=t,a=Math.atan2(n-o,i-e);return a>r.P/2?a-r.P:a<-(r.P/2)?a+r.P:a}(t):(0,r.t)(e.rotation),f=function(t,e,o){let i=Math.cos(o),r=Math.sin(o);return{w:Math.abs(t*i)+Math.abs(e*r),h:Math.abs(t*r)+Math.abs(e*i)}}(n,a,u),x=function(t,e,o,i){let r=function(t,e){let{x:o,x2:i,y:r,y2:n}=t,a=Math.min(r,n)-e.top,s=Math.min(o,i)-e.left,l=e.bottom-Math.max(r,n),d=e.right-Math.max(o,i);return{x:Math.min(s,d),y:Math.min(a,l),dx:s<=d?1:-1,dy:a<=l?1:-1}}(t,i);return"start"===e.position?tM({w:t.x2-t.x,h:t.y2-t.y},o,e,r):"end"===e.position?1-tM({w:t.x-t.x2,h:t.y-t.y2},o,e,r):v(1,e.position)}(t,e,{labelSize:f,padding:s},i),p=t.cp?tp(h,t.cp,c,x):td(h,c,x),b={size:f.w,min:i.left,max:i.right,padding:s.left},y={size:f.h,min:i.top,max:i.bottom,padding:s.top},g=tS(p.x,b)+l,m=tS(p.y,y)+d;return{x:g-n/2,y:m-a/2,x2:g+n/2,y2:m+a/2,centerX:g,centerY:m,pointX:p.x,pointY:p.y,width:n,height:a,rotation:(0,r.U)(u)}}(e,o,{width:a.width+n.width+i,height:a.height+n.height+i,padding:n},t.chartArea)}(t,h,e.label);return c._visible=d,h.elements=[{type:"label",optionScope:"label",properties:c,initProperties:h.initProperties}],h}}tg.id="lineAnnotation";let tm={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};function tv({x:t,y:e},o,{top:i,right:r,bottom:n,left:a}){return t<a&&(e=tc(a,{x:t,y:e},o),t=a),t>r&&(e=tc(r,{x:t,y:e},o),t=r),e<i&&(t=th(i,{x:t,y:e},o),e=i),e>n&&(t=th(n,{x:t,y:e},o),e=n),{x:t,y:e}}function tw(t,{mouseX:e,mouseY:o},i,r){let n=t.label;return n.options.display&&n.inRange(e,o,r,i)}function tM(t,e,o,i){let{labelSize:r,padding:n}=e,a=t.w*i.dx,s=t.h*i.dy;return h(Math.max(a>0&&(r.w/2+n.left-i.x)/a,s>0&&(r.h/2+n.top-i.y)/s),0,.25)}function tS(t,e){let{size:o,min:i,max:r,padding:n}=e,a=o/2;return o>r-i?(r+i)/2:(i>=t-n-a&&(t=i+n+a),r<=t+n+a&&(t=r-n-a),t)}function tk(t){let e=t.options,o=e.arrowHeads&&e.arrowHeads.start,i=e.arrowHeads&&e.arrowHeads.end;return{startOpts:o,endOpts:i,startAdjust:tC(t,o),endAdjust:tC(t,i)}}function tC(t,e){if(!e||!e.display)return 0;let{length:o,width:i}=e,r=t.options.borderWidth/2;return Math.abs(th(0,{x:o,y:i+r},{x:0,y:r}))}function tP(t,e,o,i){if(!i||!i.display)return;let{length:r,width:n,fill:a,backgroundColor:s,borderColor:l}=i,d=Math.abs(e-r)+o;t.beginPath(),X(t,i),R(t,i),t.moveTo(d,-n),t.lineTo(e+o,0),t.lineTo(d,n),!0===a?(t.fillStyle=s||l,t.closePath(),t.fill(),t.shadowColor="transparent"):t.shadowColor=i.borderShadowColor,t.stroke()}function tD(t,{x:e,y:o},{angle:i,adjust:r},n){n&&n.display&&(t.save(),t.translate(e,o),t.rotate(i),tP(t,0,-r,n),t.restore())}tg.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},tm),fill:!1,length:12,start:Object.assign({},tm),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},tl.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},tg.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},tg.defaultRoutes={borderColor:"color"};class tT extends i.Hg{inRange(t,e,o,i){let n=this.options.rotation,a=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==o&&"y"!==o)return function(t,e,o,i){let{width:n,height:a,centerX:s,centerY:l}=e,d=n/2,h=a/2;if(d<=0||h<=0)return!1;let c=(0,r.t)(o||0),u=Math.cos(c),f=Math.sin(c);return Math.pow(u*(t.x-s)+f*(t.y-l),2)/Math.pow(d+i,2)+Math.pow(f*(t.x-s)-u*(t.y-l),2)/Math.pow(h+i,2)<=1.0001}({x:t,y:e},this.getProps(["width","height","centerX","centerY"],i),n,a);let{x:s,y:d,x2:h,y2:c}=this.getProps(["x","y","x2","y2"],i),u="y"===o?{start:d,end:c}:{start:s,end:h},f=l({x:t,y:e},this.getCenterPoint(i),(0,r.t)(-n));return f[o]>=u.start-a-.001&&f[o]<=u.end+a+.001}getCenterPoint(t){return x(this,t)}draw(t){let{width:e,height:o,centerX:i,centerY:n,options:a}=this;t.save(),Y(t,this.getCenterPoint(),a.rotation),X(t,this.options),t.beginPath(),t.fillStyle=a.backgroundColor;let s=R(t,a);t.ellipse(i,n,o/2,e/2,r.P/2,0,2*r.P),t.fill(),s&&(t.shadowColor=a.borderShadowColor,t.stroke()),t.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(t,e){return q(t,e)}}tT.id="ellipseAnnotation",tT.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},ta.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},tT.defaultRoutes={borderColor:"color",backgroundColor:"color"},tT.descriptors={label:{_fallback:!0}};class tA extends i.Hg{inRange(t,e,o,i){let{x:r,y:n,x2:a,y2:s,width:l}=this.getProps(["x","y","x2","y2","width"],i),d=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==o&&"y"!==o){var h,u,f;return h={x:t,y:e},u=this.getCenterPoint(i),f=l/2,!!h&&!!u&&!(f<=0)&&Math.pow(h.x-u.x,2)+Math.pow(h.y-u.y,2)<=Math.pow(f+d,2)}return c("y"===o?{start:n,end:s,value:e}:{start:r,end:a,value:t},d)}getCenterPoint(t){return x(this,t)}draw(t){let e=this.options,o=e.borderWidth;if(e.radius<.1)return;t.save(),t.fillStyle=e.backgroundColor,X(t,e);let i=R(t,e);!function(t,e,o,i){let{radius:n,options:a}=e,s=a.pointStyle,l=a.rotation,d=(l||0)*r.b3;if(E(s)){t.save(),t.translate(o,i),t.rotate(d),t.drawImage(s,-s.width/2,-s.height/2,s.width,s.height),t.restore();return}I(n)||function(t,{x:e,y:o,radius:i,rotation:n,style:a,rad:s}){let l,d,h,c;switch(t.beginPath(),a){default:t.arc(e,o,i,0,r.T),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(s)*i,o-Math.cos(s)*i),s+=r.b5,t.lineTo(e+Math.sin(s)*i,o-Math.cos(s)*i),s+=r.b5,t.lineTo(e+Math.sin(s)*i,o-Math.cos(s)*i),t.closePath();break;case"rectRounded":c=.516*i,h=i-c,l=Math.cos(s+r.b4)*h,d=Math.sin(s+r.b4)*h,t.arc(e-l,o-d,c,s-r.P,s-r.H),t.arc(e+d,o-l,c,s-r.H,s),t.arc(e+l,o+d,c,s,s+r.H),t.arc(e-d,o+l,c,s+r.H,s+r.P),t.closePath();break;case"rect":if(!n){h=Math.SQRT1_2*i,t.rect(e-h,o-h,2*h,2*h);break}s+=r.b4;case"rectRot":l=Math.cos(s)*i,d=Math.sin(s)*i,t.moveTo(e-l,o-d),t.lineTo(e+d,o-l),t.lineTo(e+l,o+d),t.lineTo(e-d,o+l),t.closePath();break;case"crossRot":s+=r.b4;case"cross":l=Math.cos(s)*i,d=Math.sin(s)*i,t.moveTo(e-l,o-d),t.lineTo(e+l,o+d),t.moveTo(e+d,o-l),t.lineTo(e-d,o+l);break;case"star":l=Math.cos(s)*i,d=Math.sin(s)*i,t.moveTo(e-l,o-d),t.lineTo(e+l,o+d),t.moveTo(e+d,o-l),t.lineTo(e-d,o+l),s+=r.b4,l=Math.cos(s)*i,d=Math.sin(s)*i,t.moveTo(e-l,o-d),t.lineTo(e+l,o+d),t.moveTo(e+d,o-l),t.lineTo(e-d,o+l);break;case"line":l=Math.cos(s)*i,d=Math.sin(s)*i,t.moveTo(e-l,o-d),t.lineTo(e+l,o+d);break;case"dash":t.moveTo(e,o),t.lineTo(e+Math.cos(s)*i,o+Math.sin(s)*i)}t.fill()}(t,{x:o,y:i,radius:n,rotation:l,style:s,rad:d})}(t,this,this.centerX,this.centerY),i&&!E(e.pointStyle)&&(t.shadowColor=e.borderShadowColor,t.stroke()),t.restore(),e.borderWidth=o}resolveElementProperties(t,e){let o=U(t,e);return o.initProperties=T(t,o,e),o}}tA.id="pointAnnotation",tA.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},tA.defaultRoutes={borderColor:"color",backgroundColor:"color"};class tj extends i.Hg{inRange(t,e,o,i){if("x"!==o&&"y"!==o)return this.options.radius>=.1&&this.elements.length>1&&function(t,e,o,i){let r=!1,n=t[t.length-1].getProps(["bX","bY"],i);for(let a of t){let t=a.getProps(["bX","bY"],i);t.bY>o!=n.bY>o&&e<(n.bX-t.bX)*(o-t.bY)/(n.bY-t.bY)+t.bX&&(r=!r),n=t}return r}(this.elements,t,e,i);let n=l({x:t,y:e},this.getCenterPoint(i),(0,r.t)(-this.options.rotation)),a=this.elements.map(t=>"y"===o?t.bY:t.bX),s=Math.min(...a),d=Math.max(...a);return n[o]>=s&&n[o]<=d}getCenterPoint(t){return x(this,t)}draw(t){let{elements:e,options:o}=this;t.save(),t.beginPath(),t.fillStyle=o.backgroundColor,X(t,o);let i=R(t,o),r=!0;for(let o of e)r?(t.moveTo(o.x,o.y),r=!1):t.lineTo(o.x,o.y);t.closePath(),t.fill(),i&&(t.shadowColor=o.borderShadowColor,t.stroke()),t.restore()}resolveElementProperties(t,e){let o=U(t,e),{sides:i,rotation:n}=e,a=[],s=2*r.P/i,l=n*r.b3;for(let r=0;r<i;r++,l+=s){let i=function({centerX:t,centerY:e},{radius:o,borderWidth:i,hitTolerance:r},n){let a=(i+r)/2,s=Math.sin(n),l=Math.cos(n),d={x:t+s*o,y:e-l*o};return{type:"point",optionScope:"point",properties:{x:d.x,y:d.y,centerX:d.x,centerY:d.y,bX:t+s*(o+a),bY:e-l*(o+a)}}}(o,e,l);i.initProperties=T(t,o,e),a.push(i)}return o.elements=a,o}}tj.id="polygonAnnotation",tj.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},tj.defaultRoutes={borderColor:"color",backgroundColor:"color"};let tO={box:ta,doughnutLabel:ts,ellipse:tT,label:tl,line:tg,point:tA,polygon:tj};Object.keys(tO).forEach(t=>{r.d.describe(`elements.${tO[t].id}`,{_fallback:"plugins.annotation.common"})});let tI={update:Object.assign},tW=Z.concat(to),tE=(t,e)=>(0,r.i)(e)?t_(t,e):t,tY=t=>"color"===t||"font"===t;function tR(t="line"){return tO[t]?t:(console.warn(`Unknown annotation type: '${t}', defaulting to 'line'`),"line")}function tX(t,e,o,i){let r=tO[tR(o)],n=t[e];return n&&n instanceof r||Object.assign(n=t[e]=new r,i),n}function tL(t){let e=tO[tR(t.type)],o={};for(let i of(o.id=t.id,o.type=t.type,o.drawTime=t.drawTime,Object.assign(o,t_(t,e.defaults),t_(t,e.defaultRoutes)),tW))o[i]=t[i];return o}function t_(t,e){let o={};for(let i of Object.keys(e)){let n=e[i],a=t[i];tY(i)&&(0,r.b)(a)?o[i]=a.map(t=>tE(t,n)):o[i]=tE(a,n)}return o}let tN=new Map,tH=t=>"doughnutLabel"!==t.type,tV=Z.concat(to);var tz={id:"annotation",version:"3.1.0",beforeRegister(){!function(t,e,o,i=!0){let r=o.split("."),n=0;for(let e of"4.0".split(".")){let a=r[n++];if(parseInt(e,10)<parseInt(a,10))break;if(d(a,e)){if(!i)return!1;throw Error(`${t} v${o} is not supported. v4.0 or newer is required.`)}}}("chart.js",0,i.t1.version)},afterRegister(){i.t1.register(tO)},afterUnregister(){i.t1.unregister(tO)},beforeInit(t){tN.set(t,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(t,e,o){let i=tN.get(t).annotations=[],n=o.annotations;(0,r.i)(n)?Object.keys(n).forEach(t=>{let e=n[t];(0,r.i)(e)&&(e.id=t,i.push(e))}):(0,r.b)(n)&&i.push(...n),function(t,e){for(let o of t)(function(t,e){for(let o of["scaleID","xScaleID","yScaleID"]){let i=F(e,t,o);i&&!e[i]&&function(t,e){if("scaleID"===e)return!0;let o=e.charAt(0);for(let e of["Min","Max","Value"])if((0,r.h)(t[o+e]))return!0;return!1}(t,o)&&console.warn(`No scale found with id '${i}' for annotation '${t.id}'`)}})(o,e)}(i.filter(tH),t.scales)},afterDataLimits(t,e){let o=tN.get(t);!function(t,e,o){let i=function(t,e,o){let i=e.axis,n=e.id,a=i+"ScaleID",s={min:(0,r.v)(e.min,Number.NEGATIVE_INFINITY),max:(0,r.v)(e.max,Number.POSITIVE_INFINITY)};for(let r of o)r.scaleID===n?tn(r,e,["value","endValue"],s):F(t,r,a)===n&&tn(r,e,[i+"Min",i+"Max",i+"Value"],s);return s}(t.scales,e,o),n=tr(e,i,"min","suggestedMin");(n=tr(e,i,"max","suggestedMax")||n)&&(0,r.a7)(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}(t,e.scale,o.annotations.filter(tH).filter(t=>t.display&&t.adjustScaleRange))},afterUpdate(t,e,o){let n=tN.get(t);n.listened=A(o,Z,n.listeners),n.moveListened=!1,G.forEach(t=>{(0,r.a7)(o[t])&&(n.moveListened=!0)}),n.listened&&n.moveListened||n.annotations.forEach(t=>{!n.listened&&(0,r.a7)(t.click)&&(n.listened=!0),n.moveListened||G.forEach(e=>{(0,r.a7)(t[e])&&(n.listened=!0,n.moveListened=!0)})}),function(t,e,o,n){var a;let s=(a=o.animations,"reset"===n||"none"===n||"resize"===n?tI:new i.Qw(t,a)),l=e.annotations,d=function(t,e){let o=e.length,i=t.length;return i<o?t.splice(i,0,...Array(o-i)):i>o&&t.splice(o,i-o),t}(e.elements,l);for(let e=0;e<l.length;e++){let o=l[e],i=tX(d,e,o.type),n=o.setContext(i.$context||(i.$context=Object.assign(Object.create(t.getContext()),{element:i,get elements(){return d.filter(t=>t&&t.options)},id:o.id,type:"annotation"}))),a=i.resolveElementProperties(t,n);a.skip=isNaN(a.x)||isNaN(a.y),"elements"in a&&(function(t,e,o,i){let r=t.elements||(t.elements=[]);r.length=e.length;for(let t=0;t<e.length;t++){let n=e[t],a=n.properties,s=tX(r,t,n.type,n.initProperties),l=o[n.optionScope].override(n);a.options=tL(l),i.update(s,a)}}(i,a.elements,n,s),delete a.elements),(0,r.h)(i.x)||Object.assign(i,a),Object.assign(i,a.initProperties),a.options=tL(n),s.update(i,a)}}(t,n,o,e.mode),n.visibleElements=n.elements.filter(t=>!t.skip&&t.options.display),function(t,e,o){let i=e.visibleElements;e.hooked=A(o,to,e.hooks),e.hooked||i.forEach(t=>{e.hooked||to.forEach(o=>{(0,r.a7)(t.options[o])&&(e.hooked=!0)})})}(0,n,o)},beforeDatasetsDraw(t,e,o){tF(t,"beforeDatasetsDraw",o.clip)},afterDatasetsDraw(t,e,o){tF(t,"afterDatasetsDraw",o.clip)},beforeDatasetDraw(t,e,o){tF(t,e.index,o.clip)},beforeDraw(t,e,o){tF(t,"beforeDraw",o.clip)},afterDraw(t,e,o){tF(t,"afterDraw",o.clip)},beforeEvent(t,e,o){(function(t,e,o){if(t.listened)switch(e.type){case"mousemove":case"mouseout":return function(t,e,o){let i;if(!t.moveListened)return;i="mousemove"===e.type?a(t.visibleElements,e,o.interaction):[];let r=t.hovered;t.hovered=i;let n={state:t,event:e},s=tt(n,"leave",r,i);return tt(n,"enter",i,r)||s}(t,e,o);case"click":return function(t,e,o){let i;let r=t.listeners;for(let n of a(t.visibleElements,e,o.interaction))i=te(n.options.click||r.click,n,e)||i;return i}(t,e,o)}})(tN.get(t),e.event,o)&&(e.changed=!0)},afterDestroy(t){tN.delete(t)},getAnnotations(t){let e=tN.get(t);return e?e.elements:[]},_getAnnotationElementsAtEventForMode:(t,e,o)=>a(t,e,o),defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:t=>!tV.includes(t)&&"init"!==t,annotations:{_allKeys:!1,_fallback:(t,e)=>`elements.${tO[tR(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:tY,_fallback:!0},_indexable:tY}},additionalOptionScopes:[""]};function tF(t,e,o){let{ctx:i,chartArea:n}=t,a=tN.get(t);for(let t of(o&&(0,r.Y)(i,n),(function(t,e){let o=[];for(let i of t)if(i.options.drawTime===e&&o.push({element:i,main:!0}),i.elements&&i.elements.length)for(let t of i.elements)t.options.display&&t.options.drawTime===e&&o.push({element:t});return o})(a.visibleElements,e).sort((t,e)=>t.element.options.z-e.element.options.z)))!function(t,e,o,i){let r=i.element;i.main?(ti(o,r,"beforeDraw"),r.draw(t,e),ti(o,r,"afterDraw")):r.draw(t,e)}(i,n,a,t);o&&(0,r.$)(i)}}}]);